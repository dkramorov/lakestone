var fullDescription=function(){var a=$(".description");var b=$("#BtnGoProduct").offset()["top"]-a.find(".short").offset()["top"]-15;a.find(".text").css({"max-height":b});$("#BtnProductFull").fadeOut();a.find(".short").fadeOut(function(){a.find(".full").fadeIn()})};var setupThumbs=function(){$(".product-quickview .images .thumbs img").on("mouseenter click",function(){showBig(this)})};var showBig=function(b){if($(b).hasClass("active")){return}var a=$(".modal .product-quickview");var d=a.find(".images .thumbs");var c=$(".images .image",a);onSpinner(a);$("img",d).removeClass("active");$(b).addClass("active");$("img",c).attr({src:$(b).attr("data-big"),"data-popup":$(b).attr("data-popup")}).on("load",function(){offSpinner(a)});c.css({"background-image":'url("'+$(b).attr("data-popup")+'")'})};var imgZoom=function(d){var g=$("img",this);var f=2.5;if(!$(this).hasClass("zooming")){$(this).addClass("zooming");g.css({opacity:0});$(document).on("mousemove",offZoom);$(this).css({backgroundSize:g.width()*f+"px "+g.height()*f+"px","background-repeat":"no-repeat"})}var c=b(d);var a=(g.width()*f-g.width())/g.width();$(this).css("backgroundPosition","-"+c.x*a+"px -"+c.y*a+"px");function b(j){var i,h=0,k=0;j=j||window.event;i=g[0].getBoundingClientRect();h=j.pageX-i.left;k=j.pageY-i.top;h=h-window.pageXOffset;k=k-window.pageYOffset;return{x:h,y:k}}};var offZoom=function(a){var b=$(".modal .product-quickview .images .image");if(!b.hasClass("zooming")){return}if(!$(a.target).parent().hasClass("zooming")){$(document).off("mousemove",offZoom);b.removeClass("zooming");$("img",b).css({opacity:1})}};var loadImages=function(b){var c=$(".modal .product-quickview").parents(".modal");var a=c.find(".wait-spinner");var d=c.find(".product-quickview .images .thumbs");a.fadeIn(0);c.find(".modal-dialog").width($(window).width()*0.6);d.empty();$.ajax({url:"/index.php?route=product/product/productImages",method:"GET",data:{product_id:b,limit:9},success:function(e){e.images.forEach(function(f){var g=$("<img>").attr({"class":"img-responsive",src:f.thumb,"data-big":f.image,"data-popup":f.popup});d.append(g)});setupThumbs();d.find("img").first().click()},complete:function(){c.find(".wait-spinner").fadeOut()}})};